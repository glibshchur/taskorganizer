{"ast":null,"code":"import _defineProperty from\"/Users/hshchu/Desktop/task-organizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/hshchu/Desktop/task-organizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hshchu/Desktop/task-organizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/hshchu/Desktop/task-organizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/hshchu/Desktop/task-organizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/hshchu/Desktop/task-organizer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import logo from\"./logo.svg\";import'./App.css';import firebase,{auth,provider}from'./firebase.js';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={currentItem:'',username:'',items:[],user:null,performer:null,description:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.login=_this.login.bind(_assertThisInitialized(_this));_this.logout=_this.logout.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"handleChange\",value:function handleChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"logout\",value:function logout(){var _this2=this;auth.signOut().then(function(){_this2.setState({user:null});});}},{key:\"login\",value:function login(){var _this3=this;auth.signInWithPopup(provider).then(function(result){var user=result.user;_this3.setState({user:user});});}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var itemsRef=firebase.database().ref('items');var item={title:this.state.currentItem,description:this.state.description,performer:this.state.performer,user:this.state.user.displayName||this.state.user.email};itemsRef.push(item);this.setState({currentItem:'',description:'',performer:'',username:''});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;auth.onAuthStateChanged(function(user){if(user){_this4.setState({user:user});}});var itemsRef=firebase.database().ref('items');itemsRef.on('value',function(snapshot){var items=snapshot.val();var newState=[];for(var item in items){newState.push({id:item,title:items[item].title,description:items[item].description,performer:items[item].performer,user:items[item].user});}_this4.setState({items:newState});});}},{key:\"removeItem\",value:function removeItem(itemId){var itemRef=firebase.database().ref(\"/items/\".concat(itemId));itemRef.remove();}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Task Organizer\"),this.state.user?/*#__PURE__*/React.createElement(\"button\",{onClick:this.logout},\"Logout\"):/*#__PURE__*/React.createElement(\"button\",{onClick:this.login},\"Log In\"))),this.state.user?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.user.photoURL})),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"section\",{className:\"add-item\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"currentItem\",placeholder:\"Task Name\",onChange:this.handleChange,value:this.state.currentItem}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"description\",placeholder:\"Task Description\",onChange:this.handleChange,value:this.state.description}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"performer\",placeholder:\"Performer\",onChange:this.handleChange,value:this.state.performer}),/*#__PURE__*/React.createElement(\"button\",null,\"Add Item\"))),/*#__PURE__*/React.createElement(\"section\",{className:\"display-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"ul\",null,this.state.items.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},/*#__PURE__*/React.createElement(\"h3\",null,item.title),/*#__PURE__*/React.createElement(\"p\",null,\"Task Description: \",item.description),/*#__PURE__*/React.createElement(\"p\",null,\"Task for: \",item.performer),/*#__PURE__*/React.createElement(\"p\",null,\"Added by: \",item.user,item.user===_this5.state.user.displayName||item.user===_this5.state.user.email||item.user===_this5.state.performer?/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this5.removeItem(item.id);}},\"Remove Item\"):null));})))))):/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"p\",null,\"You must be logged in to see the potluck list and submit to it.\")));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/hshchu/Desktop/task-organizer/src/App.js"],"names":["React","Component","firebase","auth","provider","App","state","currentItem","username","items","user","performer","description","handleChange","bind","handleSubmit","login","logout","e","setState","target","name","value","signOut","then","signInWithPopup","result","preventDefault","itemsRef","database","ref","item","title","displayName","email","push","onAuthStateChanged","on","snapshot","val","newState","id","itemId","itemRef","remove","photoURL","map","removeItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport firebase, { auth, provider } from './firebase.js';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentItem: '',\n      username: '',\n      items: [],\n      user : null,\n      performer : null,\n      description : '',\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  logout() {\n    auth.signOut()\n    .then(() => {\n      this.setState({\n        user: null\n      });\n    });\n  }\n\n  login() {\n    auth.signInWithPopup(provider) \n      .then((result) => {\n        const user = result.user;\n        this.setState({\n          user\n        });\n      });\n    }\n  \n  handleSubmit(e) {\n    e.preventDefault();\n    const itemsRef = firebase.database().ref('items');\n    const item = {\n      title: this.state.currentItem,\n      description: this.state.description,\n      performer: this.state.performer,\n      user: this.state.user.displayName || this.state.user.email\n    }\n    itemsRef.push(item);\n    this.setState({\n      currentItem: '',\n      description: '',\n      performer: '',\n      username: ''\n    });\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n      } \n    });\n\n    const itemsRef = firebase.database().ref('items');\n\n    itemsRef.on('value', (snapshot) => {\n      let items = snapshot.val();\n      let newState = [];\n      for (let item in items) {\n        newState.push({\n          id: item,\n          title: items[item].title,\n          description: items[item].description,\n          performer: items[item].performer,\n          user: items[item].user\n        });\n      }\n      this.setState({\n        items: newState\n      });\n    });\n  }\n\n  removeItem(itemId) {\n    const itemRef = firebase.database().ref(`/items/${itemId}`);\n    itemRef.remove();\n  }\n\n  render() {\n    return ( \n      <div className='app'>\n        <header>\n          <div className=\"wrapper\">\n            <h1>Task Organizer</h1>\n            {this.state.user ?\n              <button onClick={this.logout}>Logout</button>                \n              :\n              <button onClick={this.login}>Log In</button>              \n            }\n          </div>\n        </header>\n        {this.state.user ?\n          <div>\n            <div className='user-profile'>\n              <img src={this.state.user.photoURL} />\n            </div>\n            <div className='container'>\n              <section className='add-item'>\n                <form onSubmit={this.handleSubmit}>\n                  <input type=\"text\" name=\"currentItem\" placeholder=\"Task Name\" onChange={this.handleChange} value={this.state.currentItem} />\n                  <input type=\"text\" name=\"description\" placeholder=\"Task Description\" onChange={this.handleChange} value={this.state.description} />\n                  <input type=\"text\" name=\"performer\" placeholder=\"Performer\" onChange={this.handleChange} value={this.state.performer} />\n                  <button>Add Item</button>\n                </form>\n              </section>\n              <section className='display-item'>\n                <div className=\"wrapper\">\n                  <ul>\n                    {this.state.items.map((item) => {\n                      return (\n                        <li key={item.id}>\n                          <h3>{item.title}</h3>\n                          <p>Task Description: {item.description}</p>\n                          <p>Task for: {item.performer}</p>\n                          <p>Added by: {item.user}\n                            {item.user === this.state.user.displayName || item.user === this.state.user.email || item.user === this.state.performer ?\n                              <button onClick={() => this.removeItem(item.id)}>Remove Item</button> : null}\n                          </p>\n                        </li>\n                      )\n                    })}\n                  </ul>\n                </div>\n              </section>\n            </div>\n          </div>\n          :\n          <div className='wrapper'>\n            <p>You must be logged in to see the potluck list and submit to it.</p>\n          </div>\n        }\n      </div>\n\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}